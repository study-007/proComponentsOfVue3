"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("vue"),c=require("../constants.js"),I=require("../../../../hooks/use-id/index.js"),p=()=>{const l=e.inject(c.formContextKey,void 0),u=e.inject(c.formItemContextKey,void 0);return{form:l,formItem:u}},f=(l,{formItemContext:u,disableIdGeneration:r,disableIdManagement:o})=>{r||(r=e.ref(!1)),o||(o=e.ref(!1));const n=e.ref();let t;const s=e.computed(()=>{var v;return!!(!l.label&&u&&u.inputIds&&((v=u.inputIds)==null?void 0:v.length)<=1)});return e.onMounted(()=>{t=e.watch([e.toRef(l,"id"),r],([v,d])=>{const i=v??(d?void 0:I.useId().value);i!==n.value&&(u!=null&&u.removeInputId&&(n.value&&u.removeInputId(n.value),!(o!=null&&o.value)&&!d&&i&&u.addInputId(i)),n.value=i)},{immediate:!0})}),e.onUnmounted(()=>{t&&t(),u!=null&&u.removeInputId&&n.value&&u.removeInputId(n.value)}),{isLabeledByFormItem:s,inputId:n}};exports.useFormItem=p;exports.useFormItemInputId=f;
