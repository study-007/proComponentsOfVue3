"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("vue"),v=require("./ElTableColumnRender.vue.js");require("./style/index.less");const m=e.defineComponent({name:"pro-table"}),b=e.defineComponent({...m,props:{pageSize:null,currentPage:null,total:null,data:{default:()=>[]},columns:null,align:{default:()=>"left"},headerAlign:{default:()=>"left"},maxHeight:null,height:null,loading:{type:Boolean},pagination:{default:()=>({})},selection:{type:Boolean,default:()=>!1}},emits:["update:current-page","update:page-size","register"],setup(d,{emit:i}){const t=d,u=e.ref();e.onMounted(()=>{const l=e.unref(u);i("register",l.$parent,u)});const n=e.ref(t.pageSize),o=e.ref(t.currentPage),c=e.computed(()=>Object.assign({small:!1,background:!1,pagerCount:7,layout:"sizes, prev, pager, next, jumper, ->, total",pageSizes:[10,20,30,40,50,100],disabled:!1,hideOnSinglePage:!1},t.pagination));return e.watch(()=>t.currentPage,l=>{o.value=l}),e.watch(()=>t.pageSize,l=>{n.value=l}),e.watch(()=>n.value,l=>{i("update:page-size",l)}),e.watch(()=>o.value,l=>{i("update:current-page",l)}),(l,r)=>{const p=e.resolveComponent("el-table-column"),g=e.resolveComponent("el-table"),s=e.resolveComponent("el-pagination"),f=e.resolveDirective("loading");return e.withDirectives((e.openBlock(),e.createElementBlock("div",null,[e.createVNode(g,{ref_key:"elTableRef",ref:u,data:t.data,border:"","max-height":t.maxHeight,height:t.height},{default:e.withCtx(()=>[t.selection?(e.openBlock(),e.createBlock(p,{key:0,type:"selection",width:"55"})):e.createCommentVNode("",!0),e.createVNode(p,{type:"index",label:"序号",width:"65",align:"center",fixed:"left"}),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.columns,(a,h)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[a.children?(e.openBlock(),e.createBlock(v.default,{key:h,data:a,align:t.align,"header-align":t.headerAlign},null,8,["data","align","header-align"])):(e.openBlock(),e.createBlock(p,{key:a.field,prop:a.field,"show-overflow-tooltip":a.field!="action",label:a.label,align:t.align,"header-align":t.headerAlign,width:a.width,formatter:a==null?void 0:a.formatter},{default:e.withCtx(_=>[a.field=="action"?e.renderSlot(l.$slots,"action",e.normalizeProps(e.mergeProps({key:0},_)),void 0,!0):e.createCommentVNode("",!0)]),_:2},1032,["prop","show-overflow-tooltip","label","align","header-align","width","formatter"]))],64))),256))]),_:3},8,["data","max-height","height"]),e.createVNode(s,{"current-page":o.value,"onUpdate:current-page":r[0]||(r[0]=a=>o.value=a),"page-size":n.value,"onUpdate:page-size":r[1]||(r[1]=a=>n.value=a),"page-sizes":e.unref(c).pageSizes,layout:e.unref(c).layout,total:t.total},null,8,["current-page","page-size","page-sizes","layout","total"])])),[[f,t.loading]])}}});exports.default=b;
